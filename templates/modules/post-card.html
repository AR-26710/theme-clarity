<div th:fragment="post-card(post)" class="article-card card">
  <a th:href="${post.status.permalink}">
    <img
      th:if="${not #strings.isEmpty(post.spec.cover)}"
      th:src="${post.spec.cover}"
      th:srcset="|${thumbnail.gen(post.spec.cover, 's')} 400w, ${thumbnail.gen(post.spec.cover, 'm')} 800w|"
      sizes="(max-width: 528px) 400px, 800px"
      class="article-cover"
      loading="lazy"
      th:alt="${post.spec.title}"
    />
  </a>

  <article>
    <h2 class="article-title text-creative">
      <a th:href="${post.status.permalink}" th:text="${post.spec.title}"></a>
    </h2>

    <p
      th:if="${not #strings.isEmpty(post.status.excerpt)}"
      class="article-description"
      th:text="${post.status.excerpt}"
    ></p>

    <div class="article-info">
      <span class="info-item">
        <span class="icon-[ph--calendar-dots-bold]"></span>
        <span th:text="${#dates.format(post.spec.publishTime, 'yyyy-MM-dd')}"></span>
      </span>

      <span th:if="${not #lists.isEmpty(post.categories)}" class="info-item article-category">
        <span class="icon-[ph--folder-bold]"></span>
        <a th:href="${post.categories[0].status.permalink}" th:text="${post.categories[0].spec.displayName}"></a>
      </span>

      <span class="info-item">
        <span class="icon-[ph--eye-bold]"></span>
        <span th:text="${post.stats.visit}"></span>
      </span>
    </div>
  </article>
</div>
