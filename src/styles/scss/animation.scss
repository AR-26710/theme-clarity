:root {
	--max-bezier-to-full: cubic-bezier(0.5, 0, 1, 0.5);
	--max-bezier-to-collapse: cubic-bezier(0, 0.5, 0.5, 1);
}

@keyframes float-in {
	0% {
		opacity: 0;
		transform: translateY(var(--float-distance, 10%));
	}

	100% {
		opacity: 1;
		transform: translateY(0);
	}
}

.float-in-enter-active,
.float-in-leave-active {
	transition: all 0.2s !important;
}

.float-in-leave-active {
	position: absolute !important;
}

.float-in-enter-from,
.float-in-leave-to {
	opacity: 0;
	transform: translateY(var(--float-distance, 10%));
}

.float-in-move {
	transition: transform 0.2s !important;
}

.collapse-enter-active,
.collapse-leave-active {
	overflow: hidden;
	overflow: clip;
	transition: max-height 0.1s;
}

.collapse-enter-from,
.collapse-leave-to {
	max-height: 0;
	transition-timing-function: var(--max-bezier-to-collapse);
}

.collapse-enter-to,
.collapse-leave-from {
	max-height: 50vh;
	transition-timing-function: var(--max-bezier-to-full);
}


::view-transition-old(root),
::view-transition-new(root) {
	animation: none;
	mix-blend-mode: normal;
}

::view-transition-old(root) {
	z-index: 1;
}

::view-transition-new(root) {
	z-index: 9999;
}

[data-theme-transition="dark"]::view-transition-old(root) {
	z-index: 9999;
}

[data-theme-transition="dark"]::view-transition-new(root) {
	z-index: 1;
}

// 扩展动画，配合 JS 使用 clip-path
// 由于 CSS 无法直接获取 JS 设置的 --x 和 --y，通常需要 JS 配合设置
// 这里我们使用通用的全屏渐变，或者如果想实现圆形扩散，需要更复杂的 setup
// 但为了简单起见，我们可以先加上基础的淡入淡出，或者尝试实现圆形扩散

// 实际上，要实现圆形扩散，我们需要在 JS 中动态构建动画，或者使用 CSS 变量
// 下面是一个基于 CSS 变量的圆形扩散实现尝试

::view-transition-new(root) {
	animation: clip-in 0.5s ease-in;
}

@keyframes clip-in {
	from {
		clip-path: circle(0% at var(--x) var(--y));
	}
	to {
		clip-path: circle(150% at var(--x) var(--y));
	}
}

// 骨架屏加载动画
@keyframes skeleton-loading {
	0% { background-position: 200% 0; }
	100% { background-position: -200% 0; }
}
